<link rel="import" href="../../../AWSLib/awsl-editor-behavior">
<link rel="import" href="../awsl-toolbar/awsl-toolbar.html">
<link rel="import" href="../awsl-toolbar/awsl-toolbar-limited.html">

<dom-module id="awsl-editor">
    <template>
        <style>
            :host {
                @apply(--layout-vertical);
            }

            #main {
                padding: 0px 28px;
                height: calc(100vh - 128px);
                overflow-y: auto;
            }

            #toastError {
                --paper-toast-background-color: red;
                --paper-toast-color: white;
            }
        </style>

        <template is="dom-if" if="[[!limited]]">
            <awsl-toolbar id="tool" title="[[title]]"></awsl-toolbar>
        </template>
        <template is="dom-if" if="[[limited]]">
            <awsl-toolbar-limited id="toollimited" title="[[title]]"></awsl-toolbar-limited>
        </template>
        <div id="main">
        </div>
        <paper-toast id="toastOk" text=""></paper-toast>
        <paper-toast id="toastError" text=""></paper-toast>
    </template>
    <script>
    Polymer({
        is: 'awsl-editor',
        properties: {
            limited: {
                type: Boolean,
                value: false
            }
        },
        behaviors: [AWSLBehaviors.EditorBehavior],
        getMain: function () {
            return this.$.main;
        },
        setToolBar: function (fromServer) {
            if (this.limited) {
                this.$.toollimited.setToolBar(fromServer);
            }
            else {
                this.$.tool.setToolBar(fromServer);
            }
        },
        showMessage: function (msg) {
            this.$.toastOk.text = msg;
            this.$.toastOk.fitInto = this.getMain();
            this.$.toastOk.open();
        },
        showError: function (msg) {
            this.$.toastError.text = msg;
            this.$.toastError.fitInto = this.getMain();
            this.$.toastError.open();
        }
    });
    </script>
</dom-module>