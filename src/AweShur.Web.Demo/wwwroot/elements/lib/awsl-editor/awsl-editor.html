<link rel="import" href="../../../lib/app-layout/app-toolbar/app-toolbar.html">
<link rel="import" href="../../../lib/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../../lib/iron-ajax/iron-ajax.html">
<link rel="import" href="../../../AWSLib/awsl-editor-behavior">

<dom-module id="awsl-editor">
    <template>
        <style>
            :host {
                @apply(--layout-vertical);
            }

            #main {
                padding: 0px 28px;
                height: calc(100vh - 128px);
                overflow-y: auto;
            }

            .sp {
                @apply(--layout-flex);
            }

            #toastError {
                --paper-toast-background-color: red;
                --paper-toast-color: white;
            }
        </style>

        <iron-ajax id="ajax"
                   method="POST"
                   content-type="application/json"
                   url="/api/AppUser"
                   handle-as="json"
                   on-response="responseHandler">
        </iron-ajax>
        <iron-ajax id="ajaxread"
                   method="POST"
                   content-type="application/json"
                   url="/api/AppUser"
                   handle-as="json"
                   on-response="responseHandlerRead">
        </iron-ajax>

        <app-toolbar hidden="[[hideokcancel]]">
            <paper-icon-button icon="refresh" on-click="load" hidden="[[hiderefresh]]"></paper-icon-button>
            <paper-icon-button icon="add" on-click="_new" hidden="[[hideadd]]">+</paper-icon-button>
            <span class="sp">&nbsp;</span>
            <paper-icon-button icon="done" on-click="_onOK" hidden="[[hideokcancel]]"></paper-icon-button>
            <paper-icon-button icon="close" on-click="_onClear" hidden="[[hideokcancel]]"></paper-icon-button>
        </app-toolbar>
        <div id="main">
        </div>
        <paper-toast id="toastOk" text=""></paper-toast>
        <paper-toast id="toastError" text=""></paper-toast>
    </template>
    <script>
    Polymer({
        is: 'awsl-editor',
        behaviors: [AWSLBehaviors.EditorBehavior],
    });
    </script>
</dom-module>